<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro Colaboración</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/style.css" rel="stylesheet">
</head>
{{> templates/Navbar}}
<body>
<main class="container mt-5 pt-5">
    <div class="row">
        <div class="col-md-6">
            <div class="form-container bg-white p-4 rounded shadow">
                <form id="colaboracionForm" action="/registro/colaboracion" method="POST">
                    <h1 class="text-center text-primary">Registrar Colaboración</h1>

                    <!-- Tipo de Colaboración -->
                    <div class="form-group">
                        <label for="tipoColaboracion">Tipo de Colaboración</label>
                        <select class="form-control" id="tipoColaboracion" name="tipoColaboracion" required>
                            <option value="">Seleccionar</option>
                            <option value="DINERO">Dinero</option>
                            <option value="DONACION_VIANDAS">Donación de Viandas</option>
                            <option value="REDISTRIBUCION_VIANDAS">Redistribución de Viandas</option>
                            <option value="ENTREGA_TARJETAS">Entrega de Tarjetas</option>
                        </select>
                    </div>

                    <!-- Dinero Fields -->
                    <div id="dineroFields" style="display:none;">
                        <div class="form-group">
                            <label for="monto">Monto</label>
                            <input type="number" class="form-control" id="monto" name="monto" placeholder="Monto en dinero">
                        </div>
                        <div class="form-group">
                            <select class="form-control" id="frecuencia" name="frecuencia" placeholder="Frecuencia de donación">
                                <option value="MENSUAL">Mensual</option>
                                <option value="TRIMESTRAL">Trimestral</option>
                                <option value="ANUAL">Anual</option>
                            </select>
                        </div>
                    </div>

                    <!-- Donación Viandas Fields -->
                    <div id="donacionViandasFields" style="display:none;">
                        <div class="form-group">
                            <label for="nombreComida">Nombre de la Comida</label>
                            <input type="text" class="form-control" id="nombreComida" name="nombreComida" placeholder="Nombre de la comida">
                        </div>
                        <div class="form-group">
                            <label for="fechaCaducidad">Fecha de Caducidad</label>
                            <input type="date" class="form-control" id="fechaCaducidad" name="fechaCaducidad">
                        </div>
                        <div class="form-group">
                            <label for="calorias">Calorías</label>
                            <input type="number" class="form-control" id="calorias" name="calorias" placeholder="Calorías">
                        </div>
                        <div class="form-group">
                            <label for="peso">Peso (kg)</label>
                            <input type="number" class="form-control" id="peso" name="peso" placeholder="Peso en kg">
                        </div>
                    </div>

                    <!-- Redistribución Viandas Fields -->
                    <div id="redistribucionViandasFields" style="display:none;">
                        <div class="form-group">
                            <label for="heladeraOrigen">Heladera Origen</label>
                            <input type="text" class="form-control" id="heladeraOrigen" name="heladeraOrigen" placeholder="Heladera de origen">
                        </div>
                        <div class="form-group">
                            <label for="heladeraDestino">Heladera Destino</label>
                            <input type="text" class="form-control" id="heladeraDestino" name="heladeraDestino" placeholder="Heladera de destino">
                        </div>
                        <div class="form-group">
                            <label for="cantidadViandas">Cantidad de Viandas</label>
                            <input type="number" class="form-control" id="cantidadViandas" name="cantidadViandas" placeholder="Cantidad de viandas">
                        </div>
                        <div class="form-group">
                            <label for="motivoRedistribucion">Motivo de Redistribución</label>
                            <input type="text" class="form-control" id="motivoRedistribucion" name="motivoRedistribucion" placeholder="Motivo de redistribución">
                        </div>
                    </div>

                    <!-- Entrega Tarjetas Fields -->
                    <div id="entregaTarjetasFields" style="display:none;">
                        <p>Serás redirigido a /registro/vulnerable</p>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">Registrar Colaboración</button>
                </form>
            </div>
        </div>
    </div>
</main>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const tipoColaboracion = document.getElementById('tipoColaboracion');
        const dineroFields = document.getElementById('dineroFields');
        const donacionViandasFields = document.getElementById('donacionViandasFields');
        const redistribucionViandasFields = document.getElementById('redistribucionViandasFields');
        const entregaTarjetasFields = document.getElementById('entregaTarjetasFields');

        tipoColaboracion.addEventListener('change', function () {
            dineroFields.style.display = 'none';
            donacionViandasFields.style.display = 'none';
            redistribucionViandasFields.style.display = 'none';
            entregaTarjetasFields.style.display = 'none';

            switch (this.value) {
                case 'DINERO':
                    dineroFields.style.display = 'block';
                    break;
                case 'DONACION_VIANDAS':
                    donacionViandasFields.style.display = 'block';
                    break;
                case 'REDISTRIBUCION_VIANDAS':
                    redistribucionViandasFields.style.display = 'block';
                    break;
                case 'ENTREGA_TARJETAS':
                    window.location.href = "/registro/vulnerable";
                    break;
            }
        });
    });
</script>
</body>
</html>
